<div class="wishlist-container">
    <!-- Main container for the wishlist page -->

    <h1>My Wishlist</h1>
    <!-- Page heading -->

    <div *ngIf="loading" class="loading">
        Loading...
    </div>
    <!-- Show this div only while loading wishlist items -->

    <div *ngIf="!loading && wishlistItems.length === 0" class="empty-state">
        <!-- Show this section if wishlist is empty after loading -->
        <p>Your wishlist is empty.</p>
        <a routerLink="/products" class="btn btn-primary">
            Browse Products
        </a>
        <!-- Button to redirect user to product listing -->
    </div>

    <div *ngIf="!loading && wishlistItems.length > 0" class="wishlist-grid">
        <!-- Show this section if there are wishlist items -->

        <div *ngFor="let item of wishlistItems" class="wishlist-item">
            <!-- Loop through each wishlist item -->

            <div class="item-image" 
                 [style.background-image]="'url(' + item.product?.image + ')'">
                <!-- Display product image using background-image binding -->
                <!-- Optional chaining (?.) ensures it wonâ€™t break if product or image is undefined -->
            </div>

            <div class="item-details">
                <!-- Container for product details -->

                <h3>{{ item.product?.name }}</h3>
                <!-- Display product name -->

                <p class="price">${{ item.product?.price }}</p>
                <!-- Display product price -->

                <div class="actions">
                    <!-- Action buttons for each product -->

                    <a [routerLink]="['/product', item.product?.id]" class="view-btn">
                        View Product
                    </a>
                    <!-- Link to product detail page -->

                    <button (click)="removeItem(item.id)" class="remove-btn">
                        Remove
                    </button>
                    <!-- Button to remove item from wishlist -->
                    <!-- Calls removeItem() in component passing the item ID -->
                </div>
            </div>
        </div>
    </div>
</div>
